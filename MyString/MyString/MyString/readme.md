# string类

第一版本：

实现 构造函数/析构/拷贝复制/赋值运算符/长度/索引等基本操作

一些基础：

* ```c
  char *c = "abc"和char c[]="abc" ： 前者改变其内容程序是会崩溃的，而后者完全正确。
  ```

* ```c
  char[]是一个数组定义，char*是指针定义。数组是开辟一块连续的内存空间，数组本身的标识符（也就是通常所说的数组名）代表整个数组，可以使用sizeof来获得数组所占据内存空间的大小（注意，不是数组元素的个数，而是数组占据内存空间的大小，这是以字节为单位的）
  ```

  

* ```c
  这里的char ch[]="abc";
  表示ch 是一个足以存放字符串初值和空字符'/0'的一维数组，可以更改数组中的字符，但是char本身是不可改变的常量。 ch: | abc\0  |
  ```

  

* ```c
  char *pch = "abc";
  那么pch 是一个指针，其初值指向一个字符串常量，之后它可以指向其他位置，但如果试图修改字符串的内容，结果将不确定。 pch:  ----->  |abc\0 |*
  ```

  

* ```c
  char chArray[100];
  chArray[i] 等价于 *(chArray+i)。 和指针的不同在于 chArray不是变量，无法对之赋值。
  事实上 i[chArray]  也等价于 *(chArray+i)
  ```



* ```c++
  std::string s = "asd";
  const char*  a = s.c_str(); // 
  char*  a = s.c_str(); // error s.c_str()返回的是const char*
  ```

* 涉及到char []字符数组与其它类型转换，一般需要进行拷贝，不能直接赋值实现。
* char []和char *都可以通过构造新的string完成其对string的转换。涉及到到char *转换，需要注意类型一致，同时注意const的使用。



**友元函数**

类的友元函数是定义在类外部，但有权访问类的所有私有（private）成员和保护（protected）成员。尽管友元函数的原型有在类的定义中出现过，但是友元函数并不是成员函数。

**重载<<操作符**

C 标准库对左移操作符（<<）进行了重载，让它可以把值发送到一个流去。但是iostream 库对新的  类表示一无所知，所以不能直接用 << **来输出我们自定义的数据**。因此需要重载<<操作符

```c++
std::ostream& operator<<( std::ostream& os, 【NewClass】& f );
```

- 第一个输入参数 os 是将要向它写数据的那个流，它是以“引用传递”方式传递的。
- 第二个输入参数是打算写到那个流里的数据值，不同的 operator <<（）重载函数就是因为这个输入参数才相互区别的　　
- **返回类型是 ostream 流的引用**。一般来说，在调用 operator <<（）重载函数时传递给它的是哪一个流，它返回的就应该是那个流的一个引用。